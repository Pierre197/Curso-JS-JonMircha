<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        const aleatorio500A600 = () => {
            const minCeiled = Math.ceil(501);
            const maxFloored = Math.floor(600);
            console.info(Math.floor(Math.random() * (maxFloored - minCeiled) + minCeiled));
        }
        //aleatorio500A600()

        const validarCapicua = (valor = 0) => {
            let antiguoValor = valor
            let nuevoValor = ""
            let totalDigitos = valor.toString().length
            for (let index = 0; index < totalDigitos; index++) {
                if (index === totalDigitos - 1) {
                    nuevoValor += valor
                }else{
                    nuevoValor += valor % 10
                    valor = parseInt(valor/10)
                }
            }            
            console.info(antiguoValor === parseInt(nuevoValor)) 
        }

        //validarCapicua(2002)

        const factorial = (valor = 0) =>
        {
            let resultado = 1;
            for (let index = 1; index <= valor; index++) {
                resultado *= index
            }
            console.info(resultado)
        }
        
        //factorial(5)

        const encontrarPrimo = (valor = 0) => {
            for (let index = 2; index < valor; index++) {
                if(valor % index === 0){
                    return console.info("No es primo")
                }
            }
            return console.info("Si es primo")
        }
        //encontrarPrimo(23)

        const determinarParOImpar = (valor = 0) => {
            if(valor % 2 === 0){
                return console.info("Es par")
            }
            else{
                return console.info("Es impar")    
            }
        }
        //determinarParOImpar(22)
//Arreglar
        const convertirCelsiusFahrenheit = (valor = 0, grado = "") => {
            (!valor)
            ? console.warn("No ingreso valor")
            : (!grado)
                ? console.warn("No ingreso grado")
                : (grado === "F")
                    ? console.info(`${(valor * 1.8) + 32} F°`)
                    : console.info(`${(valor - 32) / 1.8} C°`)
        }
        //convertirCelsiusFahrenheit(22,"C")

        const convertirDecimalYBinario = (valor = undefined, opcion = undefined) => {
            if(!valor) return console.info("No se asigno valor a convertir")
            if(typeof valor !== "number") return console.error(`El valor ${valor} no es un nunmero`)
            if(!opcion) return console.warn("No se asigno opcion (binario = 1, decimal = 2)")
            if(opcion.length !== 1 || !/(1|2)/.test(opcion)) return console.warn(`El valor ${opcion} no tiene el formato correcto`)
            let dividendo = valor
            if(opcion === "1"){
                let valores = []
                while (dividendo > 1) {
                    valores.push(dividendo % 2)
                    dividendo = parseInt(dividendo / 2)
                }
                valores.push(dividendo)
                return console.info(`El valor ${valor} en base binario es ${valores.reverse().join().replaceAll(",","")}`)
            }else{
                let digitos = valor.toString().split("").reverse()
                let resultado = 0
                for (let index = 0; index < digitos.length; index++) {
                    resultado += digitos[index] * Math.pow(2,index)
                }
                console.info(`El valor ${valor} en base decimal es ${resultado}`)
            }
        }
        //convertirDecimalYBinario(117,"1")
        //convertirDecimalYBinario(1110101,"2")

        const aplicarDescuento = (valor = undefined, descuento = undefined) => {
            if (!valor) return console.warn("No se asigno valor")
            if (typeof valor !== "number") return console.error("El valor ingresado no es numerico")
            if (!descuento) return console.warn("No se asigno descuento")
            if (typeof descuento !== "number") return console.error("El valor ingresado no es numerico")
            return console.info(`El resultado del monto ${valor} menos el descuento aplicado de ${descuento} es ${valor-descuento}`)
        }
        //aplicarDescuento(100,84)

        const calcularAnios = (fecha = undefined) => {
            if(fecha === undefined) return console.warn("No ingreso fecha")
            if(!fecha instanceof Date) return console.warn("El dato ingresado tiene un formato incorrecto")
            let hoyMenosFecha = new Date().getTime() - fecha.getTime(),
             aniosEnMS = 1000 * 60 * 60 * 24 * 365
            return console.info(parseInt(hoyMenosFecha / aniosEnMS))
        }
        //calcularAnios(new Date(1984,4,23))

        const contarVocalesyConsonantes = (cadena = "") => {
            if(!cadena) return console.warn("No se ingreso cadena")
            let vocales = 0, consonantes = 0
            for (const letra of cadena.toLowerCase()) {
                if (/[aeiouáéíóú]/.test(letra)) {
                    vocales++
                }else if(/[a-zñ]/.test(letra)){
                    consonantes++
                }
            }
            return console.info(`La cadena cuenta con ${vocales} vocales y ${consonantes} consonates`) 
        }
        //contarVocalesyConsonantes("Hola mundo")

        //18) Programa una función que dada una cadena de texto cuente el número de vocales y consonantes, pe. miFuncion("Hola Mundo") devuelva Vocales: 4, Consonantes: 5.

        const validarNombre = (nombre = "") => {
            if(!nombre) return console.warn("No ingreso el nombre a validar")
            if(typeof nombre !== "string") return console.error("El valor no es una cadena")

            let expReg = /^[A-Za-zÑñáéíóúÁÉÍÓÚ\s]+$/g.test(nombre);
            return (expReg)
            ? console.info(nombre + " Es un nombre valido")
            : console.info(nombre + " No es un nombre valido")
        }
        //validarNombre("vjhy")


        //19) Programa una función que valide que un texto sea un nombre válido, pe. miFuncion("Jonathan MirCha") devolverá verdadero.

        const validarEmail = (email = "") =>{
            if(!email) return console.warn("No se ingreso un email")
            if(typeof email !== "string") return console.error("No se ingreso una cadena")
            let expReg = /[a-z0-9]+(\.[_a-z0-9]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,15})/i.test(email)
            return (expReg)
            ? console.info("Es un emil valido")
            : console.warn("No es un email valido")
        }
        //validarEmail("jonmircha@gmail.com")

        //20) Programa una función que valide que un texto sea un email válido, pe. miFuncion("jonmircha@gmail.com") devolverá verdadero.

        const elevarNumeros = (numeros = undefined) => {
             if(numeros === undefined) return console.warn("NO se ingresó valor")
             if(!(numeros instanceof Array)) return console.error(`El valor ${numeros} no es un Array`)
             let numerosElevados = []
             for (const numero of numeros) {
                numerosElevados.push(Math.pow(numero,2))
             }
             return console.info(`Los valores elevados son ${numerosElevados}`)
        }
        //elevarNumeros()
        //elevarNumeros("12")
        //elevarNumeros([1, 4, 5])
//21) Programa una función que dado un array numérico devuelve otro array con los números elevados al cuadrado, pe. mi_funcion([1, 4, 5]) devolverá [1, 16, 25].

        const encontrarAltoYBajo = (numeros = undefined) => {
            if(numeros === undefined) return console.warn("No ingreso numeros")
            if(!(numeros instanceof Array)) return console.error(`El valor ${numeros} no es un Array`)
            for (const numero of numeros) {
                if(typeof numero !== "number"){
                    return console.error(`El Array contiene el valor ${numero} que no es un numero`)
                }
            }
            let mayor=0,menor=0
            for (let index = 0; index < numeros.length; index++) {
                if(mayor<numeros[index]){
                    mayor = numeros[index]
                }
                if(menor>numeros[index]){
                    menor = numeros[index]
                }
            }
            return console.info(`El numero mayor del array es ${mayor} y el menor es ${menor}`)
        }
        //encontrarAltoYBajo()
        //encontrarAltoYBajo("Hola mundo")
        //encontrarAltoYBajo([1, 4, 5, "A", -60])
        //encontrarAltoYBajo([1, 4, 5, 99, -60])
//22) Programa una función que dado un array devuelva el número mas alto y el más bajo de dicho array, pe. miFuncion([1, 4, 5, 99, -60]) devolverá [99, -60].

        const separasParesImpares = (numeros = undefined) =>{
            if(!numeros === undefined) return console.warn("No ingreso numeros")
            if(!(numeros instanceof Array)) return console.error(`El valor ${numeros} no es un Array`)
            for (const numero of numeros) {
                if(typeof numero !== "number"){
                    return console.error(`El Array contiene el valor ${numero} que no es un numero`)
                }
            }
            let pares=[],impares=[]
            for (let index = 0; index < numeros.length; index++) {
                if(numeros[index] % 2 === 0){
                    pares.push(numeros[index])
                }else{
                    impares.push(numeros[index])
                }
            }
            return console.info(`pares : ${pares} - impares : ${impares}`)
        }

        //separasParesImpares([1,2,3,4,5,6,7,8,9,0])

//23) Programa una función que dado un array de números devuelva un objeto con 2 arreglos en el primero almacena los números pares y en el segundo los impares, pe. miFuncion([1,2,3,4,5,6,7,8,9,0]) devolverá {pares: [2,4,6,8,0], impares: [1,3,5,7,9]}.
    
//24) Programa una función que dado un arreglo de números devuelva un objeto con dos arreglos, el primero tendrá los numeros ordenados en forma ascendente y el segundo de forma descendiente, pe. miFuncion([7, 5,7,8,6]) devolverá { asc: [5,6,7,7,8], desc: [8,7,7,6,5] }.

        const numerosOrdenadosYDesordenados = (numeros = undefined) => {
            if(!numeros === undefined) return console.warn("No ingreso un array de numeros")
            if(!(numeros instanceof Array)) return console.error(`El valor ${numeros} no es un Array de numeros`)
            if(numeros.length === 0) return console.warn("el Array esta vacio")
            for (const numero of numeros) {
                if(typeof numero !== "number") return console.error(`El Array contiene el valor ${numero} que no es un numero`)             
            }
            return console.info({
                Ordenados : numeros.map(x => x).sort(function (a,b) {return a - b}),
                Desordenados : numeros.map(x => x).sort(function (a,b) {return b - a})
            })
        } 
        //numerosOrdenadosYDesordenados([40, 1, 5, 200])
        //numerosOrdenadosYDesordenados([7, 5,7,8,6])

//25) Programa una función que dado un arreglo de elementos, elimine los duplicados, pe. miFuncion(["x", 10, "x", 2, "10", 10, true, true]) devolverá ["x", 10, 2, "10", true].

        const borrarDuplicados = (datos = undefined) => {
            if(!datos === undefined) return console.warn("No ingreso un array")
            if(!(datos instanceof Array)) return console.error(`El valor ${numeros} no es un Array`)
            if(datos.length === 0) return console.warn("el Array esta vacio")
            //const datosUnicos = datos.filter((value, index, self) => self.indexOf(value) === index)
            const datosUnicos = [new Set(datos)]
            return console.info(datosUnicos)
        }

        //borrarDuplicados(["x", 10, "x", 2, "10", 10, true, true])

//26) Programa una función que dado un arreglo de números obtenga el promedio, pe. promedio([9,8,7,6,5,4,3,2,1,0]) devolverá 4.5.
    
        const promediar = (numeros = undefined) => {
            if(!numeros === undefined) return console.warn("No ingreso un array de numeros")
            if(!(numeros instanceof Array)) return console.error(`El valor ${numeros} no es un Array de numeros`)
            if(numeros.length === 0) return console.warn("el Array esta vacio")
            for (const numero of numeros) {
                if(typeof numero !== "number") return console.error(`El Array contiene el valor ${numero} que no es un numero`)             
            }
            return console.info(
                numeros.reduce((total, num, index, arr) =>{
                    total += num
                    if (index === arr.length - 1){
                        return `El promedio de ${arr.join(" + ")} es ${total / arr.length}`
                    }else{
                        return total
                    }
                }
                )
            )
        }
        //promediar([9,8,7,6,5,4,3,2,1,0])

/*27) Programa una clase llamada Pelicula.

La clase recibirá un objeto al momento de instanciarse con los siguentes datos: id de la película en IMDB, titulo, director, año de estreno, país o países de origen, géneros y calificación en IMBD.
  - Todos los datos del objeto son obligatorios.
  - Valida que el id IMDB tenga 9 caracteres, los primeros 2 sean letras y los 
     7 restantes números.
  - Valida que el título no rebase los 100 caracteres.
  - Valida que el director no rebase los 50 caracteres.
  - Valida que el año de estreno sea un número entero de 4 dígitos.
  - Valida que el país o paises sea introducidos en forma de arreglo.
  - Valida que los géneros sean introducidos en forma de arreglo.
  - Valida que los géneros introducidos esten dentro de los géneros 
     aceptados*.
  - Crea un método estático que devuelva los géneros aceptados*.
  - Valida que la calificación sea un número entre 0 y 10 pudiendo ser 
    decimal de una posición.
  - Crea un método que devuelva toda la ficha técnica de la película.
  - Apartir de un arreglo con la información de 3 películas genera 3 
    instancias de la clase de forma automatizada e imprime la ficha técnica 
    de cada película.

* Géneros Aceptados: Action, Adult, Adventure, Animation, Biography, Comedy, Crime, Documentary ,Drama, Family, Fantasy, Film Noir, Game-Show, History, Horror, Musical, Music, Mystery, News, Reality-TV, Romance, Sci-Fi, Short, Sport, Talk-Show, Thriller, War, Western.*/
    class Pelicula{
        constructor({id, titulo, director, anioEstreno, paisesOrigen, generos, calificacion}){
            this.id = id
            this.titulo = titulo
            this.director = director
            this.anioEstreno = anioEstreno
            this.paisesOrigen = paisesOrigen
            this.generos = generos
            this.calificacion = calificacion

            this.validarIMDB(id)
            this.validarTitulo(titulo)
            this.validarDirector(director)
            this.validarAnioEstreno(anioEstreno)
            this.validarPaisesOrigen(paisesOrigen)
            this.validarGeneros(generos)
            this.validarCalificacion(calificacion)
        }

        static get listaGeneros(){
            return ["Action", "Adult", "Adventure", "Animation", "Biography", "Comedy", "Crime", "Documentary", "Drama", "Family", "Fantasy", "Film Noir", "Game-Show", "History", "Horror", "Musical", "Music", "Mystery", "News", "Reality-TV", "Romance", "Sci-Fi", "Short", "Sport", "Talk-Show", "Thriller", "War", "Western"]
        }

        static generosAceptados(){
            return console.info(`Los generos aceptados son: ${Pelicula.listaGeneros.join(", ")}`)
        }

        validarCadena(propiedad,valor){
            if(!valor) return console.warn(`${propiedad} ${valor} esta vacio`)
            if(typeof valor !== "string") return console.error(`${propiedad} ${valor} no es una cadena de texto`)
            return true
        }

        validarLongitudCadena(propiedad, valor, longitud){
            if(valor.length > longitud) return console.error(`${propiedad} ${valor} excede el numero de caracteres permitidos (${longitud}).`)
            return true
        }

        validarNumero(propiedad, valor){
            if(!valor) return console.warn(`${propiedad} ${valor} esta vacio`)
            if(typeof valor !== "number") return console.error(`${propiedad} ${valor} ingresado no es un numero`)
            return true
        }

        validarArreglo(propiedad, valor){
            if(!valor) return console.warn(`${propiedad} ${valor} esta vacio`)
            if(!(valor instanceof Array)) return console.error(`${propiedad} ${valor} ingresado no es un arreglo`)
            if(valor.length === 0) return console.error(`${propiedad} ${valor} no tiene datos`)
            for (let cadena of valor) {
                if(typeof cadena !== "string") return console.error(`El valor ${cadena} ingresado no es una cadena de texto`)
            }
            return true
        }

        validarIMDB(id){
            if(this.validarCadena("IMDB Id", id))
                if(!(/^([a-z]){2}([0-9]){7}$/.test(id)))
                    return console.error(`IMDB Id ${id} no es valido, debe tener 9 caracteres, los 2 primeros letras minusculas, los 7 restantes numeros`)
        }

        validarTitulo(titulo){
            if(this.validarCadena("Titulo", titulo))
                this.validarLongitudCadena("Titulo", titulo, 100);
        }

        validarDirector(director){
            if(this.validarCadena("Director", director))
                this.validarLongitudCadena("Director", director, 50);
        }

        validarAnioEstreno(anioEstreno){
            if(this.validarNumero("Año de estreno", anioEstreno))
                if(!(/^([0-9]){4}$/.test(anioEstreno)))
                    return console.error(`Año de estreno ${anioEstreno} no es valido, debe tener 4 caracteres`)
        }

        validarPaisesOrigen(paises){
            this.validarArreglo("Pais",paises)
        }

        validarGeneros(generos){
            if(this.validarArreglo("Generos", generos)){
                let generosNoAceptados = []
                for (let genero of generos) {
                    if(!Pelicula.listaGeneros.includes(genero)){
                        generosNoAceptados.push(genero)
                    }
                }
                if (generosNoAceptados.length > 0) {
                    console.warn(`Generos incorrectos: ${generosNoAceptados.join(", ")}`)
                    Pelicula.generosAceptados();
                }
            }
        }

        validarCalificacion(calificacion){
            if(this.validarNumero("Calificacion", calificacion))
                return (calificacion < 0 || calificacion > 10)
                    ? console.error("La calificacion tiene que estar en un rango entre 0 y 10")
                    : this.calificacion = calificacion.toFixed(1)
        }

        fichaTecnica(){
            console.info(`Ficha Tecnica:\nTitulo: ${this.titulo}\nDirector: ${this.director}\nAño: ${this.anioEstreno}\nPaises: ${this.paisesOrigen.join("-")}\nGeneros: ${this.generos.join(",")}\nCalificacion: ${this.calificacion}\nIMDB Id: ${this.id}`)
        }
    }
    
    const laPelicula = new Pelicula({
        id:"tt1234567",
        titulo:"titulo",
        director:"Director",
        anioEstreno:2022,
        paisesOrigen:["Peru"],
        generos:["Horror"],
        calificacion:7.789
    })

    laPelicula.fichaTecnica()
    </script>
</body>
</html>